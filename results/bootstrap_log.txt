================================================================================
ìš”ê´€ ê²°ì„ íƒì§€ AI Bootstrap ë¶„ì„ - Patient-level Cluster-robust
================================================================================

[1] ë°ì´í„° ë¡œë”© ë° ë³€í™˜...
--------------------------------------------------------------------------------
2025-11-14 16:21:00 [INFO] bootstrap_analysis: [BCR] ë°ì´í„° ë¡œë”© ì™„ë£Œ:
2025-11-14 16:21:00 [INFO] bootstrap_analysis:   Unaided: 325ê°œ ë ˆì½”ë“œ, 321ëª… í™˜ì
2025-11-14 16:21:00 [INFO] bootstrap_analysis:   Assisted: 325ê°œ ë ˆì½”ë“œ, 321ëª… í™˜ì

[2] Bootstrap ë¶„ì„ ì‹¤í–‰: BCR
--------------------------------------------------------------------------------
2025-11-14 16:21:00 [INFO] src.bootstrap: Bootstrap Analyzer ì´ˆê¸°í™”: B=1000, CI=95.0%, seed=42
2025-11-14 16:21:00 [INFO] src.bootstrap: ================================================================================
2025-11-14 16:21:00 [INFO] src.bootstrap: Bootstrap ë¹„êµ ë¶„ì„ ì‹œì‘: Assisted vs Unaided
2025-11-14 16:21:00 [INFO] src.bootstrap: ================================================================================
2025-11-14 16:21:00 [INFO] src.bootstrap: Bootstrap ë¶„ì„ ì‹œì‘: mode=assisted, B=1000
2025-11-14 16:21:00 [INFO] src.bootstrap:   Bootstrap iteration: 100/1000
2025-11-14 16:21:00 [INFO] src.bootstrap:   Bootstrap iteration: 200/1000
2025-11-14 16:21:00 [INFO] src.bootstrap:   Bootstrap iteration: 300/1000
2025-11-14 16:21:00 [INFO] src.bootstrap:   Bootstrap iteration: 400/1000
2025-11-14 16:21:00 [INFO] src.bootstrap:   Bootstrap iteration: 500/1000
2025-11-14 16:21:00 [INFO] src.bootstrap:   Bootstrap iteration: 600/1000
2025-11-14 16:21:00 [INFO] src.bootstrap:   Bootstrap iteration: 700/1000
2025-11-14 16:21:00 [INFO] src.bootstrap:   Bootstrap iteration: 800/1000
2025-11-14 16:21:00 [INFO] src.bootstrap:   Bootstrap iteration: 900/1000
2025-11-14 16:21:00 [INFO] src.bootstrap:   Bootstrap iteration: 1000/1000
2025-11-14 16:21:00 [INFO] src.bootstrap:   sensitivity: 0.596 (95% CI: 0.544-0.646)
2025-11-14 16:21:00 [INFO] src.bootstrap:   specificity: 0.843 (95% CI: 0.800-0.890)
2025-11-14 16:21:00 [INFO] src.bootstrap:   ppv: 0.841 (95% CI: 0.797-0.889)
2025-11-14 16:21:00 [INFO] src.bootstrap:   npv: 0.599 (95% CI: 0.545-0.652)
2025-11-14 16:21:00 [INFO] src.bootstrap: Bootstrap ë¶„ì„ ì™„ë£Œ: assisted
2025-11-14 16:21:00 [INFO] src.bootstrap: Bootstrap ë¶„ì„ ì‹œì‘: mode=unaided, B=1000
2025-11-14 16:21:00 [INFO] src.bootstrap:   Bootstrap iteration: 100/1000
2025-11-14 16:21:00 [INFO] src.bootstrap:   Bootstrap iteration: 200/1000
2025-11-14 16:21:00 [INFO] src.bootstrap:   Bootstrap iteration: 300/1000
2025-11-14 16:21:00 [INFO] src.bootstrap:   Bootstrap iteration: 400/1000
2025-11-14 16:21:00 [INFO] src.bootstrap:   Bootstrap iteration: 500/1000
2025-11-14 16:21:00 [INFO] src.bootstrap:   Bootstrap iteration: 600/1000
2025-11-14 16:21:00 [INFO] src.bootstrap:   Bootstrap iteration: 700/1000
2025-11-14 16:21:00 [INFO] src.bootstrap:   Bootstrap iteration: 800/1000
2025-11-14 16:21:00 [INFO] src.bootstrap:   Bootstrap iteration: 900/1000
2025-11-14 16:21:00 [INFO] src.bootstrap:   Bootstrap iteration: 1000/1000
2025-11-14 16:21:00 [INFO] src.bootstrap:   sensitivity: 0.626 (95% CI: 0.569-0.682)
2025-11-14 16:21:00 [INFO] src.bootstrap:   specificity: 0.751 (95% CI: 0.701-0.809)
2025-11-14 16:21:00 [INFO] src.bootstrap:   ppv: 0.753 (95% CI: 0.699-0.806)
2025-11-14 16:21:00 [INFO] src.bootstrap:   npv: 0.623 (95% CI: 0.571-0.679)
2025-11-14 16:21:00 [INFO] src.bootstrap: Bootstrap ë¶„ì„ ì™„ë£Œ: unaided
2025-11-14 16:21:00 [INFO] src.bootstrap: 
Delta ê³„ì‚° (Assisted - Unaided):
2025-11-14 16:21:00 [INFO] src.bootstrap:   sensitivity: Î”=-0.030 (95% CI: -0.101 to +0.041) pâ‰ˆ0.209 
2025-11-14 16:21:00 [INFO] src.bootstrap:   specificity: Î”=+0.092 (95% CI: +0.016 to +0.165) pâ‰ˆ0.015 **
2025-11-14 16:21:00 [INFO] src.bootstrap:   ppv: Î”=+0.088 (95% CI: +0.011 to +0.161) pâ‰ˆ0.013 **
2025-11-14 16:21:00 [INFO] src.bootstrap:   npv: Î”=-0.024 (95% CI: -0.101 to +0.052) pâ‰ˆ0.270 
2025-11-14 16:21:00 [ERROR] bootstrap_analysis: âœ— BCR ì²˜ë¦¬ ì‹¤íŒ¨: Object of type bool_ is not JSON serializable
Traceback (most recent call last):
  File "/home/abdomen/ureter_stone/run_bootstrap_analysis.py", line 144, in <module>
    analyzer.export_results(output_dir)
  File "/home/abdomen/ureter_stone/src/bootstrap.py", line 417, in export_results
    json.dump(self.bootstrap_results, f, indent=2, ensure_ascii=False)
  File "/home/miruware/anaconda3/lib/python3.9/json/__init__.py", line 179, in dump
    for chunk in iterable:
  File "/home/miruware/anaconda3/lib/python3.9/json/encoder.py", line 431, in _iterencode
    yield from _iterencode_dict(o, _current_indent_level)
  File "/home/miruware/anaconda3/lib/python3.9/json/encoder.py", line 405, in _iterencode_dict
    yield from chunks
  File "/home/miruware/anaconda3/lib/python3.9/json/encoder.py", line 405, in _iterencode_dict
    yield from chunks
  File "/home/miruware/anaconda3/lib/python3.9/json/encoder.py", line 405, in _iterencode_dict
    yield from chunks
  [Previous line repeated 1 more time]
  File "/home/miruware/anaconda3/lib/python3.9/json/encoder.py", line 438, in _iterencode
    o = _default(o)
  File "/home/miruware/anaconda3/lib/python3.9/json/encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type bool_ is not JSON serializable
2025-11-14 16:21:00 [INFO] bootstrap_analysis: [EMS] ë°ì´í„° ë¡œë”© ì™„ë£Œ:
2025-11-14 16:21:00 [INFO] bootstrap_analysis:   Unaided: 325ê°œ ë ˆì½”ë“œ, 321ëª… í™˜ì
2025-11-14 16:21:00 [INFO] bootstrap_analysis:   Assisted: 325ê°œ ë ˆì½”ë“œ, 321ëª… í™˜ì

[2] Bootstrap ë¶„ì„ ì‹¤í–‰: EMS
--------------------------------------------------------------------------------
2025-11-14 16:21:00 [INFO] src.bootstrap: Bootstrap Analyzer ì´ˆê¸°í™”: B=1000, CI=95.0%, seed=42
2025-11-14 16:21:00 [INFO] src.bootstrap: ================================================================================
2025-11-14 16:21:00 [INFO] src.bootstrap: Bootstrap ë¹„êµ ë¶„ì„ ì‹œì‘: Assisted vs Unaided
2025-11-14 16:21:00 [INFO] src.bootstrap: ================================================================================
2025-11-14 16:21:00 [INFO] src.bootstrap: Bootstrap ë¶„ì„ ì‹œì‘: mode=assisted, B=1000
2025-11-14 16:21:00 [INFO] src.bootstrap:   Bootstrap iteration: 100/1000
2025-11-14 16:21:00 [INFO] src.bootstrap:   Bootstrap iteration: 200/1000
2025-11-14 16:21:00 [INFO] src.bootstrap:   Bootstrap iteration: 300/1000
2025-11-14 16:21:00 [INFO] src.bootstrap:   Bootstrap iteration: 400/1000
2025-11-14 16:21:00 [INFO] src.bootstrap:   Bootstrap iteration: 500/1000
2025-11-14 16:21:01 [INFO] src.bootstrap:   Bootstrap iteration: 600/1000
2025-11-14 16:21:01 [INFO] src.bootstrap:   Bootstrap iteration: 700/1000
2025-11-14 16:21:01 [INFO] src.bootstrap:   Bootstrap iteration: 800/1000
2025-11-14 16:21:01 [INFO] src.bootstrap:   Bootstrap iteration: 900/1000
2025-11-14 16:21:01 [INFO] src.bootstrap:   Bootstrap iteration: 1000/1000
2025-11-14 16:21:01 [INFO] src.bootstrap:   sensitivity: 0.730 (95% CI: 0.681-0.780)
2025-11-14 16:21:01 [INFO] src.bootstrap:   specificity: 0.621 (95% CI: 0.565-0.678)
2025-11-14 16:21:01 [INFO] src.bootstrap:   ppv: 0.692 (95% CI: 0.645-0.741)
2025-11-14 16:21:01 [INFO] src.bootstrap:   npv: 0.663 (95% CI: 0.603-0.722)
2025-11-14 16:21:01 [INFO] src.bootstrap: Bootstrap ë¶„ì„ ì™„ë£Œ: assisted
2025-11-14 16:21:01 [INFO] src.bootstrap: Bootstrap ë¶„ì„ ì‹œì‘: mode=unaided, B=1000
2025-11-14 16:21:01 [INFO] src.bootstrap:   Bootstrap iteration: 100/1000
2025-11-14 16:21:01 [INFO] src.bootstrap:   Bootstrap iteration: 200/1000
2025-11-14 16:21:01 [INFO] src.bootstrap:   Bootstrap iteration: 300/1000
2025-11-14 16:21:01 [INFO] src.bootstrap:   Bootstrap iteration: 400/1000
2025-11-14 16:21:01 [INFO] src.bootstrap:   Bootstrap iteration: 500/1000
2025-11-14 16:21:01 [INFO] src.bootstrap:   Bootstrap iteration: 600/1000
2025-11-14 16:21:01 [INFO] src.bootstrap:   Bootstrap iteration: 700/1000
2025-11-14 16:21:01 [INFO] src.bootstrap:   Bootstrap iteration: 800/1000
2025-11-14 16:21:01 [INFO] src.bootstrap:   Bootstrap iteration: 900/1000
2025-11-14 16:21:01 [INFO] src.bootstrap:   Bootstrap iteration: 1000/1000
2025-11-14 16:21:01 [INFO] src.bootstrap:   sensitivity: 0.844 (95% CI: 0.798-0.889)
2025-11-14 16:21:01 [INFO] src.bootstrap:   specificity: 0.208 (95% CI: 0.159-0.252)
2025-11-14 16:21:01 [INFO] src.bootstrap:   ppv: 0.474 (95% CI: 0.427-0.521)
2025-11-14 16:21:01 [INFO] src.bootstrap:   npv: 0.611 (95% CI: 0.515-0.703)
2025-11-14 16:21:01 [INFO] src.bootstrap: Bootstrap ë¶„ì„ ì™„ë£Œ: unaided
2025-11-14 16:21:01 [INFO] src.bootstrap: 
Delta ê³„ì‚° (Assisted - Unaided):
2025-11-14 16:21:01 [INFO] src.bootstrap:   sensitivity: Î”=-0.115 (95% CI: -0.184 to -0.044) pâ‰ˆ0.001 **
2025-11-14 16:21:01 [INFO] src.bootstrap:   specificity: Î”=+0.413 (95% CI: +0.342 to +0.491) pâ‰ˆ0.000 **
2025-11-14 16:21:01 [INFO] src.bootstrap:   ppv: Î”=+0.218 (95% CI: +0.154 to +0.288) pâ‰ˆ0.000 **
2025-11-14 16:21:01 [INFO] src.bootstrap:   npv: Î”=+0.051 (95% CI: -0.061 to +0.170) pâ‰ˆ0.192 
2025-11-14 16:21:01 [ERROR] bootstrap_analysis: âœ— EMS ì²˜ë¦¬ ì‹¤íŒ¨: Object of type bool_ is not JSON serializable
Traceback (most recent call last):
  File "/home/abdomen/ureter_stone/run_bootstrap_analysis.py", line 144, in <module>
    analyzer.export_results(output_dir)
  File "/home/abdomen/ureter_stone/src/bootstrap.py", line 417, in export_results
    json.dump(self.bootstrap_results, f, indent=2, ensure_ascii=False)
  File "/home/miruware/anaconda3/lib/python3.9/json/__init__.py", line 179, in dump
    for chunk in iterable:
  File "/home/miruware/anaconda3/lib/python3.9/json/encoder.py", line 431, in _iterencode
    yield from _iterencode_dict(o, _current_indent_level)
  File "/home/miruware/anaconda3/lib/python3.9/json/encoder.py", line 405, in _iterencode_dict
    yield from chunks
  File "/home/miruware/anaconda3/lib/python3.9/json/encoder.py", line 405, in _iterencode_dict
    yield from chunks
  File "/home/miruware/anaconda3/lib/python3.9/json/encoder.py", line 405, in _iterencode_dict
    yield from chunks
  [Previous line repeated 1 more time]
  File "/home/miruware/anaconda3/lib/python3.9/json/encoder.py", line 438, in _iterencode
    o = _default(o)
  File "/home/miruware/anaconda3/lib/python3.9/json/encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type bool_ is not JSON serializable
2025-11-14 16:21:01 [INFO] bootstrap_analysis: [Resident] ë°ì´í„° ë¡œë”© ì™„ë£Œ:
2025-11-14 16:21:01 [INFO] bootstrap_analysis:   Unaided: 325ê°œ ë ˆì½”ë“œ, 321ëª… í™˜ì
2025-11-14 16:21:01 [INFO] bootstrap_analysis:   Assisted: 325ê°œ ë ˆì½”ë“œ, 321ëª… í™˜ì

[2] Bootstrap ë¶„ì„ ì‹¤í–‰: Resident
--------------------------------------------------------------------------------
2025-11-14 16:21:01 [INFO] src.bootstrap: Bootstrap Analyzer ì´ˆê¸°í™”: B=1000, CI=95.0%, seed=42
2025-11-14 16:21:01 [INFO] src.bootstrap: ================================================================================
2025-11-14 16:21:01 [INFO] src.bootstrap: Bootstrap ë¹„êµ ë¶„ì„ ì‹œì‘: Assisted vs Unaided
2025-11-14 16:21:01 [INFO] src.bootstrap: ================================================================================
2025-11-14 16:21:01 [INFO] src.bootstrap: Bootstrap ë¶„ì„ ì‹œì‘: mode=assisted, B=1000
2025-11-14 16:21:01 [INFO] src.bootstrap:   Bootstrap iteration: 100/1000
2025-11-14 16:21:01 [INFO] src.bootstrap:   Bootstrap iteration: 200/1000
2025-11-14 16:21:01 [INFO] src.bootstrap:   Bootstrap iteration: 300/1000
2025-11-14 16:21:01 [INFO] src.bootstrap:   Bootstrap iteration: 400/1000
2025-11-14 16:21:01 [INFO] src.bootstrap:   Bootstrap iteration: 500/1000
2025-11-14 16:21:01 [INFO] src.bootstrap:   Bootstrap iteration: 600/1000
2025-11-14 16:21:01 [INFO] src.bootstrap:   Bootstrap iteration: 700/1000
2025-11-14 16:21:01 [INFO] src.bootstrap:   Bootstrap iteration: 800/1000
2025-11-14 16:21:01 [INFO] src.bootstrap:   Bootstrap iteration: 900/1000
2025-11-14 16:21:02 [INFO] src.bootstrap:   Bootstrap iteration: 1000/1000
2025-11-14 16:21:02 [INFO] src.bootstrap:   sensitivity: 0.606 (95% CI: 0.554-0.656)
2025-11-14 16:21:02 [INFO] src.bootstrap:   specificity: 0.816 (95% CI: 0.767-0.864)
2025-11-14 16:21:02 [INFO] src.bootstrap:   ppv: 0.817 (95% CI: 0.769-0.866)
2025-11-14 16:21:02 [INFO] src.bootstrap:   npv: 0.604 (95% CI: 0.548-0.661)
2025-11-14 16:21:02 [INFO] src.bootstrap: Bootstrap ë¶„ì„ ì™„ë£Œ: assisted
2025-11-14 16:21:02 [INFO] src.bootstrap: Bootstrap ë¶„ì„ ì‹œì‘: mode=unaided, B=1000
2025-11-14 16:21:02 [INFO] src.bootstrap:   Bootstrap iteration: 100/1000
2025-11-14 16:21:02 [INFO] src.bootstrap:   Bootstrap iteration: 200/1000
2025-11-14 16:21:02 [INFO] src.bootstrap:   Bootstrap iteration: 300/1000
2025-11-14 16:21:02 [INFO] src.bootstrap:   Bootstrap iteration: 400/1000
2025-11-14 16:21:02 [INFO] src.bootstrap:   Bootstrap iteration: 500/1000
2025-11-14 16:21:02 [INFO] src.bootstrap:   Bootstrap iteration: 600/1000
2025-11-14 16:21:02 [INFO] src.bootstrap:   Bootstrap iteration: 700/1000
2025-11-14 16:21:02 [INFO] src.bootstrap:   Bootstrap iteration: 800/1000
2025-11-14 16:21:02 [INFO] src.bootstrap:   Bootstrap iteration: 900/1000
2025-11-14 16:21:02 [INFO] src.bootstrap:   Bootstrap iteration: 1000/1000
2025-11-14 16:21:02 [INFO] src.bootstrap:   sensitivity: 0.612 (95% CI: 0.557-0.670)
2025-11-14 16:21:02 [INFO] src.bootstrap:   specificity: 0.600 (95% CI: 0.544-0.656)
2025-11-14 16:21:02 [INFO] src.bootstrap:   ppv: 0.616 (95% CI: 0.561-0.673)
2025-11-14 16:21:02 [INFO] src.bootstrap:   npv: 0.596 (95% CI: 0.536-0.657)
2025-11-14 16:21:02 [INFO] src.bootstrap: Bootstrap ë¶„ì„ ì™„ë£Œ: unaided
2025-11-14 16:21:02 [INFO] src.bootstrap: 
Delta ê³„ì‚° (Assisted - Unaided):
2025-11-14 16:21:02 [INFO] src.bootstrap:   sensitivity: Î”=-0.005 (95% CI: -0.085 to +0.065) pâ‰ˆ0.471 
2025-11-14 16:21:02 [INFO] src.bootstrap:   specificity: Î”=+0.215 (95% CI: +0.141 to +0.297) pâ‰ˆ0.000 **
2025-11-14 16:21:02 [INFO] src.bootstrap:   ppv: Î”=+0.201 (95% CI: +0.128 to +0.275) pâ‰ˆ0.000 **
2025-11-14 16:21:02 [INFO] src.bootstrap:   npv: Î”=+0.008 (95% CI: -0.074 to +0.092) pâ‰ˆ0.440 
2025-11-14 16:21:02 [ERROR] bootstrap_analysis: âœ— Resident ì²˜ë¦¬ ì‹¤íŒ¨: Object of type bool_ is not JSON serializable
Traceback (most recent call last):
  File "/home/abdomen/ureter_stone/run_bootstrap_analysis.py", line 144, in <module>
    analyzer.export_results(output_dir)
  File "/home/abdomen/ureter_stone/src/bootstrap.py", line 417, in export_results
    json.dump(self.bootstrap_results, f, indent=2, ensure_ascii=False)
  File "/home/miruware/anaconda3/lib/python3.9/json/__init__.py", line 179, in dump
    for chunk in iterable:
  File "/home/miruware/anaconda3/lib/python3.9/json/encoder.py", line 431, in _iterencode
    yield from _iterencode_dict(o, _current_indent_level)
  File "/home/miruware/anaconda3/lib/python3.9/json/encoder.py", line 405, in _iterencode_dict
    yield from chunks
  File "/home/miruware/anaconda3/lib/python3.9/json/encoder.py", line 405, in _iterencode_dict
    yield from chunks
  File "/home/miruware/anaconda3/lib/python3.9/json/encoder.py", line 405, in _iterencode_dict
    yield from chunks
  [Previous line repeated 1 more time]
  File "/home/miruware/anaconda3/lib/python3.9/json/encoder.py", line 438, in _iterencode
    o = _default(o)
  File "/home/miruware/anaconda3/lib/python3.9/json/encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type bool_ is not JSON serializable

================================================================================
[3] ì „ì²´ ë¦¬ë” ë¹„êµ ìš”ì•½
================================================================================

[BCR]
--------------------------------------------------------------------------------
  Î” SENSITIVITY : -0.030 (95% CI: [-0.101, +0.041])
  Î” SPECIFICITY : +0.092 (95% CI: [+0.016, +0.165]) **
  Î” PPV         : +0.088 (95% CI: [+0.011, +0.161]) **
  Î” NPV         : -0.024 (95% CI: [-0.101, +0.052])

[EMS]
--------------------------------------------------------------------------------
  Î” SENSITIVITY : -0.115 (95% CI: [-0.184, -0.044]) **
  Î” SPECIFICITY : +0.413 (95% CI: [+0.342, +0.491]) **
  Î” PPV         : +0.218 (95% CI: [+0.154, +0.288]) **
  Î” NPV         : +0.051 (95% CI: [-0.061, +0.170])

[Resident]
--------------------------------------------------------------------------------
  Î” SENSITIVITY : -0.005 (95% CI: [-0.085, +0.065])
  Î” SPECIFICITY : +0.215 (95% CI: [+0.141, +0.297]) **
  Î” PPV         : +0.201 (95% CI: [+0.128, +0.275]) **
  Î” NPV         : +0.008 (95% CI: [-0.074, +0.092])

âœ“ ì „ì²´ ìš”ì•½ ì €ì¥: results/bootstrap/all_readers_summary.csv

================================================================================
Bootstrap ë¶„ì„ ì™„ë£Œ!
================================================================================

ğŸ“Š ì£¼ìš” ë°œê²¬ì‚¬í•­:
  - Bootstrap iterations: 1000íšŒ
  - Confidence level: 95%
  - Resampling ë‹¨ìœ„: Patient-level (cluster-robust)
  - ê²°ê³¼ ì €ì¥: results/bootstrap/
