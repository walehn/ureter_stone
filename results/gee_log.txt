/home/abdomen/ureter_stone/src/gee_analysis.py:17: UserWarning: A NumPy version >=1.22.4 and <2.3.0 is required for this version of SciPy (detected version 1.21.6)
  from scipy import optimize
================================================================================
ÏöîÍ¥Ä Í≤∞ÏÑù ÌÉêÏßÄ AI GEE Î∂ÑÏÑù - Cluster-robust Inference
================================================================================

[1] GEE Î∂ÑÏÑù Ïã§Ìñâ...
--------------------------------------------------------------------------------
2025-11-16 16:53:11 [INFO] gee_analysis: [BCR] Îç∞Ïù¥ÌÑ∞ Î°úÎî© ÏôÑÎ£å:
2025-11-16 16:53:11 [INFO] gee_analysis:   Total records: 650 (unaided + assisted)
2025-11-16 16:53:11 [INFO] gee_analysis:   Unique patients: 160
2025-11-16 16:53:11 [INFO] gee_analysis:   Outcome distribution: 447/650 correct

================================================================================
[BCR] GEE Analysis
================================================================================
2025-11-16 16:53:11 [INFO] src.gee_analysis: GEE Analyzer Ï¥àÍ∏∞Ìôî: max_iter=100, tol=1e-06
2025-11-16 16:53:11 [INFO] src.gee_analysis: ================================================================================
2025-11-16 16:53:11 [INFO] src.gee_analysis: GEE Î∂ÑÏÑù ÏãúÏûë
2025-11-16 16:53:11 [INFO] src.gee_analysis: ================================================================================
2025-11-16 16:53:11 [INFO] src.gee_analysis: Îç∞Ïù¥ÌÑ∞ Ï§ÄÎπÑ ÏôÑÎ£å: n=650, p=2, clusters=321
2025-11-16 16:53:11 [INFO] src.gee_analysis:   Mean cluster size: 2.0 (range: 2-4)
2025-11-16 16:53:11 [INFO] src.gee_analysis: 
[Step 1] Logistic Regression (Ï¥àÍ∏∞ Ï∂îÏ†ï)...
2025-11-16 16:53:11 [INFO] src.gee_analysis: 
[Step 2] Working Correlation Ï∂îÏ†ï...
2025-11-16 16:53:11 [INFO] src.gee_analysis:   Working correlation (exchangeable): Œ±=0.101
2025-11-16 16:53:11 [INFO] src.gee_analysis: 
[Step 3] Robust Standard Errors Í≥ÑÏÇ∞...
2025-11-16 16:53:12 [INFO] src.gee_analysis: 
================================================================================
2025-11-16 16:53:12 [INFO] src.gee_analysis: GEE Í≤∞Í≥º
2025-11-16 16:53:12 [INFO] src.gee_analysis: ================================================================================
2025-11-16 16:53:12 [INFO] src.gee_analysis: 
Model: Binomial family, Logit link, Exchangeable correlation
2025-11-16 16:53:12 [INFO] src.gee_analysis: N observations: 650, N clusters: 321
2025-11-16 16:53:12 [INFO] src.gee_analysis: Working correlation: Œ±=0.101

2025-11-16 16:53:12 [INFO] src.gee_analysis: Coefficients:
2025-11-16 16:53:12 [INFO] src.gee_analysis: --------------------------------------------------------------------------------
2025-11-16 16:53:12 [INFO] src.gee_analysis: Variable                             Beta         SE          z      P>|z|         OR
2025-11-16 16:53:12 [INFO] src.gee_analysis: --------------------------------------------------------------------------------
2025-11-16 16:53:12 [INFO] src.gee_analysis: Intercept                          0.7538     0.1185      6.360     0.0000      2.125 ***
2025-11-16 16:53:12 [INFO] src.gee_analysis: Mode (Assisted vs Unaided)         0.0716     0.1190      0.602     0.5471      1.074 
2025-11-16 16:53:12 [INFO] src.gee_analysis: --------------------------------------------------------------------------------
2025-11-16 16:53:12 [INFO] src.gee_analysis: 
95% Confidence Intervals:
2025-11-16 16:53:12 [INFO] src.gee_analysis:   Intercept:
2025-11-16 16:53:12 [INFO] src.gee_analysis:     Beta: [0.5215, 0.9861]
2025-11-16 16:53:12 [INFO] src.gee_analysis:     OR:   [1.6845, 2.6807]
2025-11-16 16:53:12 [INFO] src.gee_analysis:   Mode (Assisted vs Unaided):
2025-11-16 16:53:12 [INFO] src.gee_analysis:     Beta: [-0.1616, 0.3048]
2025-11-16 16:53:12 [INFO] src.gee_analysis:     OR:   [0.8508, 1.3564]
2025-11-16 16:53:12 [INFO] src.gee_analysis: 
GEE Î∂ÑÏÑù ÏôÑÎ£å!
2025-11-16 16:53:12 [INFO] src.gee_analysis: ‚úì JSON Ï†ÄÏû•: results/gee/BCR/gee_results.json
2025-11-16 16:53:12 [INFO] src.gee_analysis: ‚úì CSV Ï†ÄÏû•: results/gee/BCR/gee_coefficients.csv
2025-11-16 16:53:12 [INFO] src.gee_analysis: ‚úì Markdown Ï†ÄÏû•: results/gee/BCR/gee_report.md

‚úì BCR GEE Î∂ÑÏÑù ÏôÑÎ£å!
  Í≤∞Í≥º Ï†ÄÏû•: results/gee/BCR/
2025-11-16 16:53:12 [INFO] gee_analysis: [EMS] Îç∞Ïù¥ÌÑ∞ Î°úÎî© ÏôÑÎ£å:
2025-11-16 16:53:12 [INFO] gee_analysis:   Total records: 650 (unaided + assisted)
2025-11-16 16:53:12 [INFO] gee_analysis:   Unique patients: 160
2025-11-16 16:53:12 [INFO] gee_analysis:   Outcome distribution: 382/650 correct

================================================================================
[EMS] GEE Analysis
================================================================================
2025-11-16 16:53:12 [INFO] src.gee_analysis: GEE Analyzer Ï¥àÍ∏∞Ìôî: max_iter=100, tol=1e-06
2025-11-16 16:53:12 [INFO] src.gee_analysis: ================================================================================
2025-11-16 16:53:12 [INFO] src.gee_analysis: GEE Î∂ÑÏÑù ÏãúÏûë
2025-11-16 16:53:12 [INFO] src.gee_analysis: ================================================================================
2025-11-16 16:53:12 [INFO] src.gee_analysis: Îç∞Ïù¥ÌÑ∞ Ï§ÄÎπÑ ÏôÑÎ£å: n=650, p=2, clusters=321
2025-11-16 16:53:12 [INFO] src.gee_analysis:   Mean cluster size: 2.0 (range: 2-4)
2025-11-16 16:53:12 [INFO] src.gee_analysis: 
[Step 1] Logistic Regression (Ï¥àÍ∏∞ Ï∂îÏ†ï)...
2025-11-16 16:53:12 [INFO] src.gee_analysis: 
[Step 2] Working Correlation Ï∂îÏ†ï...
2025-11-16 16:53:12 [INFO] src.gee_analysis:   Working correlation (exchangeable): Œ±=0.082
2025-11-16 16:53:12 [INFO] src.gee_analysis: 
[Step 3] Robust Standard Errors Í≥ÑÏÇ∞...
2025-11-16 16:53:12 [INFO] src.gee_analysis: 
================================================================================
2025-11-16 16:53:12 [INFO] src.gee_analysis: GEE Í≤∞Í≥º
2025-11-16 16:53:12 [INFO] src.gee_analysis: ================================================================================
2025-11-16 16:53:12 [INFO] src.gee_analysis: 
Model: Binomial family, Logit link, Exchangeable correlation
2025-11-16 16:53:12 [INFO] src.gee_analysis: N observations: 650, N clusters: 321
2025-11-16 16:53:12 [INFO] src.gee_analysis: Working correlation: Œ±=0.082

2025-11-16 16:53:12 [INFO] src.gee_analysis: Coefficients:
2025-11-16 16:53:12 [INFO] src.gee_analysis: --------------------------------------------------------------------------------
2025-11-16 16:53:12 [INFO] src.gee_analysis: Variable                             Beta         SE          z      P>|z|         OR
2025-11-16 16:53:12 [INFO] src.gee_analysis: --------------------------------------------------------------------------------
2025-11-16 16:53:12 [INFO] src.gee_analysis: Intercept                         -0.0185     0.1109     -0.166     0.8678      0.982 
2025-11-16 16:53:12 [INFO] src.gee_analysis: Mode (Assisted vs Unaided)         0.7722     0.1293      5.971     0.0000      2.165 ***
2025-11-16 16:53:12 [INFO] src.gee_analysis: --------------------------------------------------------------------------------
2025-11-16 16:53:12 [INFO] src.gee_analysis: 
95% Confidence Intervals:
2025-11-16 16:53:12 [INFO] src.gee_analysis:   Intercept:
2025-11-16 16:53:12 [INFO] src.gee_analysis:     Beta: [-0.2359, 0.1990]
2025-11-16 16:53:12 [INFO] src.gee_analysis:     OR:   [0.7898, 1.2202]
2025-11-16 16:53:12 [INFO] src.gee_analysis:   Mode (Assisted vs Unaided):
2025-11-16 16:53:12 [INFO] src.gee_analysis:     Beta: [0.5187, 1.0257]
2025-11-16 16:53:12 [INFO] src.gee_analysis:     OR:   [1.6799, 2.7892]
2025-11-16 16:53:12 [INFO] src.gee_analysis: 
GEE Î∂ÑÏÑù ÏôÑÎ£å!
2025-11-16 16:53:12 [INFO] src.gee_analysis: ‚úì JSON Ï†ÄÏû•: results/gee/EMS/gee_results.json
2025-11-16 16:53:12 [INFO] src.gee_analysis: ‚úì CSV Ï†ÄÏû•: results/gee/EMS/gee_coefficients.csv
2025-11-16 16:53:12 [INFO] src.gee_analysis: ‚úì Markdown Ï†ÄÏû•: results/gee/EMS/gee_report.md

‚úì EMS GEE Î∂ÑÏÑù ÏôÑÎ£å!
  Í≤∞Í≥º Ï†ÄÏû•: results/gee/EMS/
2025-11-16 16:53:12 [INFO] gee_analysis: [Resident] Îç∞Ïù¥ÌÑ∞ Î°úÎî© ÏôÑÎ£å:
2025-11-16 16:53:12 [INFO] gee_analysis:   Total records: 650 (unaided + assisted)
2025-11-16 16:53:12 [INFO] gee_analysis:   Unique patients: 160
2025-11-16 16:53:12 [INFO] gee_analysis:   Outcome distribution: 422/650 correct

================================================================================
[Resident] GEE Analysis
================================================================================
2025-11-16 16:53:12 [INFO] src.gee_analysis: GEE Analyzer Ï¥àÍ∏∞Ìôî: max_iter=100, tol=1e-06
2025-11-16 16:53:12 [INFO] src.gee_analysis: ================================================================================
2025-11-16 16:53:12 [INFO] src.gee_analysis: GEE Î∂ÑÏÑù ÏãúÏûë
2025-11-16 16:53:12 [INFO] src.gee_analysis: ================================================================================
2025-11-16 16:53:12 [INFO] src.gee_analysis: Îç∞Ïù¥ÌÑ∞ Ï§ÄÎπÑ ÏôÑÎ£å: n=650, p=2, clusters=321
2025-11-16 16:53:12 [INFO] src.gee_analysis:   Mean cluster size: 2.0 (range: 2-4)
2025-11-16 16:53:12 [INFO] src.gee_analysis: 
[Step 1] Logistic Regression (Ï¥àÍ∏∞ Ï∂îÏ†ï)...
2025-11-16 16:53:12 [INFO] src.gee_analysis: 
[Step 2] Working Correlation Ï∂îÏ†ï...
2025-11-16 16:53:12 [INFO] src.gee_analysis:   Working correlation (exchangeable): Œ±=0.134
2025-11-16 16:53:12 [INFO] src.gee_analysis: 
[Step 3] Robust Standard Errors Í≥ÑÏÇ∞...
2025-11-16 16:53:12 [INFO] src.gee_analysis: 
================================================================================
2025-11-16 16:53:12 [INFO] src.gee_analysis: GEE Í≤∞Í≥º
2025-11-16 16:53:12 [INFO] src.gee_analysis: ================================================================================
2025-11-16 16:53:12 [INFO] src.gee_analysis: 
Model: Binomial family, Logit link, Exchangeable correlation
2025-11-16 16:53:12 [INFO] src.gee_analysis: N observations: 650, N clusters: 321
2025-11-16 16:53:12 [INFO] src.gee_analysis: Working correlation: Œ±=0.134

2025-11-16 16:53:12 [INFO] src.gee_analysis: Coefficients:
2025-11-16 16:53:12 [INFO] src.gee_analysis: --------------------------------------------------------------------------------
2025-11-16 16:53:12 [INFO] src.gee_analysis: Variable                             Beta         SE          z      P>|z|         OR
2025-11-16 16:53:12 [INFO] src.gee_analysis: --------------------------------------------------------------------------------
2025-11-16 16:53:12 [INFO] src.gee_analysis: Intercept                          0.4183     0.1131      3.697     0.0002      1.519 ***
2025-11-16 16:53:12 [INFO] src.gee_analysis: Mode (Assisted vs Unaided)         0.4071     0.1015      4.011     0.0001      1.502 ***
2025-11-16 16:53:12 [INFO] src.gee_analysis: --------------------------------------------------------------------------------
2025-11-16 16:53:12 [INFO] src.gee_analysis: 
95% Confidence Intervals:
2025-11-16 16:53:12 [INFO] src.gee_analysis:   Intercept:
2025-11-16 16:53:12 [INFO] src.gee_analysis:     Beta: [0.1966, 0.6401]
2025-11-16 16:53:12 [INFO] src.gee_analysis:     OR:   [1.2172, 1.8966]
2025-11-16 16:53:12 [INFO] src.gee_analysis:   Mode (Assisted vs Unaided):
2025-11-16 16:53:12 [INFO] src.gee_analysis:     Beta: [0.2082, 0.6060]
2025-11-16 16:53:12 [INFO] src.gee_analysis:     OR:   [1.2314, 1.8332]
2025-11-16 16:53:12 [INFO] src.gee_analysis: 
GEE Î∂ÑÏÑù ÏôÑÎ£å!
2025-11-16 16:53:12 [INFO] src.gee_analysis: ‚úì JSON Ï†ÄÏû•: results/gee/Resident/gee_results.json
2025-11-16 16:53:12 [INFO] src.gee_analysis: ‚úì CSV Ï†ÄÏû•: results/gee/Resident/gee_coefficients.csv
2025-11-16 16:53:12 [INFO] src.gee_analysis: ‚úì Markdown Ï†ÄÏû•: results/gee/Resident/gee_report.md

‚úì Resident GEE Î∂ÑÏÑù ÏôÑÎ£å!
  Í≤∞Í≥º Ï†ÄÏû•: results/gee/Resident/

================================================================================
[2] Ï†ÑÏ≤¥ Î¶¨Îçî GEE Í≤∞Í≥º ÏöîÏïΩ
================================================================================

[BCR]
--------------------------------------------------------------------------------
  AI Assistance Effect:
    Beta:      +0.0716 (SE: 0.1190)
    z-score:   +0.602
    p-value:   0.5471 
    OR:        1.074 (95% CI: [0.851, 1.356])
    ‚Üí AI assistance increases odds of correct classification by 7.4%

[EMS]
--------------------------------------------------------------------------------
  AI Assistance Effect:
    Beta:      +0.7722 (SE: 0.1293)
    z-score:   +5.971
    p-value:   0.0000 ***
    OR:        2.165 (95% CI: [1.680, 2.789])
    ‚Üí AI assistance increases odds of correct classification by 116.5%

[Resident]
--------------------------------------------------------------------------------
  AI Assistance Effect:
    Beta:      +0.4071 (SE: 0.1015)
    z-score:   +4.011
    p-value:   0.0001 ***
    OR:        1.502 (95% CI: [1.231, 1.833])
    ‚Üí AI assistance increases odds of correct classification by 50.2%

================================================================================
GEE Î∂ÑÏÑù ÏôÑÎ£å!
================================================================================

üìä Ï£ºÏöî Î∞úÍ≤¨ÏÇ¨Ìï≠:
  - Cluster-robust inference (ÌôòÏûê ÎÇ¥ ÏÉÅÍ¥ÄÍ¥ÄÍ≥Ñ Í≥†Î†§)
  - Exchangeable correlation structure
  - Sandwich (robust) standard errors
  - Í≤∞Í≥º Ï†ÄÏû•: results/gee/
